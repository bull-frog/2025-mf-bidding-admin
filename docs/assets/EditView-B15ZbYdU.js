import{d as k,r,a as w,o as S,u as x,g as f,c as B,b as s,e,t as m,F as _,f as h,h as E,i as n,_ as N}from"./index-CEvehEJV.js";const P={class:"container"},V={class:"header"},$=["onPaste","id"],A=k({__name:"EditView",setup(C){const u=r(0),I=E(),p=r(0),c=r(w);S(()=>{const i=x();p.value=parseInt(localStorage.getItem("gameId"))||0,u.value=parseInt(i.params.id),c.value=JSON.parse(localStorage.getItem(`gameData${p.value}`)||"{}"),v.value=f.projects[u.value].map(t=>t.name),d.value=Array.from({length:7},()=>Array.from({length:v.value.length},()=>0))});const D=B(()=>f.rounds[u.value]),v=r(["工事名"]),d=r([[0]]),y=(i,t)=>{const l=parseInt(i);t.preventDefault();const o=(t.clipboardData||window.clipboardData).getData("text").trim().split(`
`);d.value[l]=o[0].split("	").map(g=>parseInt(g.trim()))},b=()=>{c.value.rounds[u.value].bids=d,localStorage.setItem(`gameData${p.value}`,JSON.stringify(c.value)),I.push({name:"home"})};return(i,t)=>(n(),s("div",P,[e("div",V,[e("h1",null,m(D.value),1),e("a",{class:"button-link",onClick:b},"保存")]),e("div",null,[e("table",null,[e("thead",null,[e("tr",null,[t[0]||(t[0]=e("th",null,"会社名",-1)),(n(!0),s(_,null,h(v.value,(l,a)=>(n(),s("th",{key:a},m(l),1))),128))])]),e("tbody",null,[(n(!0),s(_,null,h(d.value,(l,a)=>(n(),s("tr",{onPaste:o=>y(a,o),key:a,id:`row-${a}`},[e("td",null,m(c.value.companies[a]),1),(n(!0),s(_,null,h(l,(o,g)=>(n(),s("td",{key:g},m(o),1))),128))],40,$))),128))])])])]))}}),J=N(A,[["__scopeId","data-v-4ac68f72"]]);export{J as default};
