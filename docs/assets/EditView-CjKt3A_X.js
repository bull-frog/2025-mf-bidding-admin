import{d as k,r,a as w,o as S,u as x,g as f,c as B,b as s,e,t as m,F as _,f as h,h as E,i as l,_ as F}from"./index-By1l84aY.js";const N={class:"container"},P={class:"header"},V=["onPaste","id"],$=k({__name:"EditView",setup(A){const u=r(0),I=E(),p=r(0),c=r(w);S(()=>{const i=x();p.value=parseInt(localStorage.getItem("gameId"))||0,u.value=parseInt(i.params.id),c.value=JSON.parse(localStorage.getItem(`gameData${p.value}`)||"{}"),v.value=f.projects[u.value].map(t=>t.name),d.value=Array.from({length:7},()=>Array.from({length:v.value.length},()=>0))});const D=B(()=>f.rounds[u.value]),v=r(["工事名"]),d=r([[0]]),y=(i,t)=>{const n=parseInt(i);t.preventDefault();const o=(t.clipboardData||window.clipboardData).getData("text").trim().split(`
`);d.value[n]=o[0].split("	").map(g=>parseFloat(g.trim()))},b=()=>{c.value.rounds[u.value].bids=d,localStorage.setItem(`gameData${p.value}`,JSON.stringify(c.value)),I.push({name:"home"})};return(i,t)=>(l(),s("div",N,[e("div",P,[e("h1",null,m(D.value),1),e("a",{class:"button-link",onClick:b},"保存")]),e("div",null,[e("table",null,[e("thead",null,[e("tr",null,[t[0]||(t[0]=e("th",null,"会社名",-1)),(l(!0),s(_,null,h(v.value,(n,a)=>(l(),s("th",{key:a},m(n),1))),128))])]),e("tbody",null,[(l(!0),s(_,null,h(d.value,(n,a)=>(l(),s("tr",{onPaste:o=>y(a,o),key:a,id:`row-${a}`},[e("td",null,m(c.value.companies[a]),1),(l(!0),s(_,null,h(n,(o,g)=>(l(),s("td",{key:g},m(o),1))),128))],40,V))),128))])])])]))}}),J=F($,[["__scopeId","data-v-8ea3dc64"]]);export{J as default};
